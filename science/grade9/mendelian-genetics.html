<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>9th Grade: Mendelian Genetics ğŸ§¬</title>

<script type="text/javascript" id="MathJax-script" async
Â  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<script>
    // Configuration to recognize inline math surrounded by $...$
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
    };
</script>
<style>
:root{
Â  --bg:#f7fbff; --panel:#fff; --accent:#8e44ad; --accent2:#9b59b6; --ok:#16a34a; --bad:#ef4444; --muted:#566270;
Â  --dominant-color: #e74c3c;
Â  --recessive-color: #3498db;
Â  --hetero-color: #f1c40f;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter, "Segoe UI", Arial, sans-serif;background:var(--bg);color:#04263b;}
header{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;padding:22px 12px;text-align:center}
header h1{margin:0;font-size:clamp(20px,3vw,30px)}
main{max-width:1100px;margin:20px auto;padding:14px}
section{background:var(--panel);border-radius:12px;padding:16px;margin:14px 0;box-shadow:0 8px 24px rgba(2,6,23,0.06)}
h2{color:var(--accent2);margin:0 0 10px 0}
p{margin:8px 0}
.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
button{background:var(--accent2);color:#fff;border:none;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:700}
button.secondary{background:#60a5fa;color:#fff}
button.ghost{background:#dbeafe;color:var(--accent2);border:1px solid #93c5fd}
button.warn{background:#f97316}
input[type=number], input[type=text], select{padding:8px;border-radius:8px;border:1px solid #93c5fd;font-size:1rem}
.grid{display:grid;gap:10px}.grid.cols-4{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
.tile{background:var(--panel);padding:12px;border-radius:8px;text-align:center;border:1px solid var(--accent);cursor:pointer;font-weight:700}
.status{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.pill{background:#e6ffef;color:var(--ok);padding:6px 10px;border-radius:999px;font-weight:800}
.muted{color:var(--muted)}
footer{text-align:center;padding:12px;margin-top:8px;color:#334155}
.answer{font-weight:800;margin-top:8px}.ok{color:var(--ok)}.bad{color:var(--bad)}
canvas{background:#fff;border:1px solid var(--accent);border-radius:8px;display:block;margin-top:10px;width:100%;}
.tile.selected {
Â  border: 2px solid var(--accent2);
Â  box-shadow: 0 0 8px rgba(155, 89, 182, 0.5);
}
/* Custom style for the concepts display */
.concept-box {
Â  background: #f0f0ff;
Â  border: 2px solid var(--accent2);
Â  padding: 15px;
Â  border-radius: 10px;
Â  margin: 10px 0;
}
.concept-box h3 {
Â  color: var(--accent);
Â  margin: 0 0 5px 0;
}
/* Punnett Square styles */
.punnett-container {
Â  display: flex;
Â  flex-direction: column;
Â  align-items: center;
Â  margin-top: 15px;
}
.punnett-grid {
Â  display: grid;
Â  grid-template-columns: 50px repeat(2, 1fr);
Â  grid-template-rows: 50px repeat(2, 1fr);
Â  gap: 1px;
Â  background: #333;
Â  width: 300px;
Â  border: 1px solid #333;
}
.punnett-cell {
Â  background: #fff;
Â  display: flex;
Â  justify-content: center;
Â  align-items: center;
Â  font-size: 1.5rem;
Â  font-weight: bold;
}
.punnett-cell.header {
Â  background: #eee;
}
.punnett-cell.off-grid {
Â  background: transparent;
}
.punnett-result {
Â  color: #04263b;
Â  cursor: pointer;
Â  transition: background 0.1s;
}
.punnett-result:hover {
Â  background: #ffe6e6;
}
.punnett-result.correct {
Â  background: var(--ok);
Â  color: #fff;
}
.punnett-result.incorrect {
Â  background: var(--bad);
Â  color: #fff;
}
.allele-input {
Â  width: 40px;
Â  text-transform: uppercase;
Â  text-align: center;
Â  font-size: 1rem;
Â  font-weight: bold;
}
</style>
</head>
<body>
<header>
<h1>9th Grade: Mendelian Genetics  à¤®à¤Ÿà¤°</h1>
<p style="margin:6px 0 0 0;opacity:.95">Interactive Lesson â€¢ $\text{Mendel}$'s $\text{Laws}$ â€¢ $\text{Punnett}$ $\text{Squares}$ â€¢ $\text{Probability}$</p>
</header>
<main>
<section aria-labelledby="introTitle">
<h2 id="introTitle">What is $\text{Mendelian}$ $\text{Genetics}$? ğŸ§‘â€ğŸ”¬</h2>
<p>
Â  **$\text{Mendelian}$ $\text{Genetics}$** is the foundation of modern genetics, based on the work of **$\text{Gregor}$ $\text{Mendel}$** and his experiments with $\text{pea}$ $\text{plants}$. He discovered that traits are passed down in discrete units (which we now call **$\text{genes}$**), and these units separate and combine in predictable ways.
</p>
<div class="status" style="margin-top:8px">
Â  <div class="pill" id="score">Score: 0</div>
Â  <div class="muted" id="streak">Streak: 0</div>
</div>
</section>

<section aria-labelledby="vocabTitle">
<h2 id="vocabTitle">Key $\text{Vocabulary}$ and $\text{Concepts}$ ğŸ”‘</h2>

<div class="grid cols-4">
Â  <div class="concept-box" style="border-color: var(--dominant-color);">
Â  Â  <h3>$\text{Allele}$</h3>
Â  Â  <p>A variation of a gene (e.g., the $\text{allele}$ for tall vs. short pea plants).</p>
Â  </div>
Â  <div class="concept-box" style="border-color: var(--recessive-color);">
Â  Â  <h3>$\text{Genotype}$</h3>
Â  Â  <p>The genetic makeup; the actual $\text{alleles}$ inherited ($\text{e.g.,} \text{ TT}, \text{ Tt}, \text{ or } \text{tt}$).</p>
Â  </div>
Â  <div class="concept-box" style="border-color: var(--hetero-color);">
Â  Â  <h3>$\text{Phenotype}$</h3>
Â  Â  <p>The physical appearance resulting from the $\text{genotype}$ ($\text{e.g.,}$ $\text{tall}$ $\text{plant}$ or $\text{short}$ $\text{plant}$).</p>
Â  </div>
Â  <div class="concept-box" style="border-color: var(--dominant-color);">
Â  Â  <h3>$\text{Homozygous}$ / $\text{Heterozygous}$</h3>
Â  Â  <p>$\text{Homo}$ ($\text{TT}$ or $\text{tt}$) means the $\text{alleles}$ are the $\text{same}$. $\text{Hetero}$ ($\text{Tt}$) means they are $\text{different}$.</p>
Â  </div>
</div>
</section>

<section aria-labelledby="lawsTitle">
<h2 id="lawsTitle">Mendel's $\text{Three}$ $\text{Laws}$ ğŸ“œ</h2>

<div class="concept-box" style="border-color: var(--dominant-color);">
Â  <h3>1. $\text{Law}$ of $\text{Dominance}$</h3>
Â  <p>When an organism is **$\text{heterozygous}$** ($\text{Tt}$), the **$\text{dominant}$ $\text{allele}$** ($\text{T}$) will mask, or cover up, the expression of the **$\text{recessive}$ $\text{allele}$** ($\text{t}$).</p>
</div>

<div class="concept-box" style="border-color: var(--recessive-color);">
Â  <h3>2. $\text{Law}$ of $\text{Segregation}$</h3>
Â  <p>During $\text{gamete}$ ($\text{sex}$ $\text{cell}$) formation, the two $\text{alleles}$ for a trait separate from each other so that each $\text{gamete}$ receives only one $\text{allele}$.</p>
</div>

<div class="concept-box" style="border-color: var(--hetero-color);">
Â  <h3>3. $\text{Law}$ of $\text{Independent}$ $\text{Assortment}$</h3>
Â  <p>Genes for different traits can segregate ($\text{separate}$) independently during the formation of $\text{gametes}$. ($\text{e.g.,}$ $\text{the}$ $\text{allele}$ $\text{for}$ $\text{height}$ $\text{separates}$ $\text{independently}$ $\text{from}$ $\text{the}$ $\text{allele}$ $\text{for}$ $\text{seed}$ $\text{color}$).</p>
</div>
</section>

<section aria-labelledby="punnettTitle">
<h2 id="punnettTitle">Interactive $\text{Punnett}$ $\text{Square}$ ($\text{Monohybrid}$ $\text{Cross}$) ğŸ“Š</h2>
<p>Use the $\text{Punnett}$ $\text{Square}$ below to calculate the genetic probability of offspring. **$\text{Tall}$** ($\text{T}$) is $\text{dominant}$ to **$\text{short}$** ($\text{t}$).</p>

<div class="punnett-container">
Â  <div style="display: flex; gap: 20px; margin-bottom: 10px;">
Â  Â  <div style="font-weight: bold;">Parent 1 ($\text{Male}$): 
Â  Â  Â  <input type="text" id="p1a1" class="allele-input" maxlength="1" value="T" oninput="drawPunnett()">
Â  Â  Â  <input type="text" id="p1a2" class="allele-input" maxlength="1" value="t" oninput="drawPunnett()">
Â  Â  </div>
Â  Â  <div style="font-weight: bold;">Parent 2 ($\text{Female}$): 
Â  Â  Â  <input type="text" id="p2a1" class="allele-input" maxlength="1" value="T" oninput="drawPunnett()">
Â  Â  Â  <input type="text" id="p2a2" class="allele-input" maxlength="1" value="t" oninput="drawPunnett()">
Â  Â  </div>
Â  </div>
Â Â 
Â  <div class="punnett-grid">
Â  Â  <div class="punnett-cell off-grid"></div>
Â  Â  <div class="punnett-cell header" id="allele_p1a1">T</div>
Â  Â  <div class="punnett-cell header" id="allele_p1a2">t</div>
Â  Â  <div class="punnett-cell header" id="allele_p2a1">T</div>
Â  Â  <div class="punnett-cell punnett-result" id="r11" onclick="checkPunnett(this, 'TT')">TT</div>
Â  Â  <div class="punnett-cell punnett-result" id="r12" onclick="checkPunnett(this, 'Tt')">Tt</div>
Â  Â  <div class="punnett-cell header" id="allele_p2a2">t</div>
Â  Â  <div class="punnett-cell punnett-result" id="r21" onclick="checkPunnett(this, 'Tt')">Tt</div>
Â  Â  <div class="punnett-cell punnett-result" id="r22" onclick="checkPunnett(this, 'tt')">tt</div>
Â  </div>
Â Â 
Â  <div style="margin-top: 15px; text-align: center;">
Â  Â  Â  <h3>Probabilities (Click a square to check its $\text{genotype}$!)</h3>
Â  Â  Â  <p id="genotypeRatio" style="font-size: 1.1rem;">Genotype $\text{Ratio}$: 1 $\text{TT}$ : 2 $\text{Tt}$ : 1 $\text{tt}$</p>
Â  Â  Â  <p id="phenotypeRatio" style="font-size: 1.1rem; color: var(--ok);">Phenotype $\text{Ratio}$: 3 $\text{Tall}$ : 1 $\text{Short}$ (75% $\text{Tall}$, 25% $\text{Short}$)</p>
Â  </div>
</div>
</section>

<section aria-labelledby="practiceTitle">
<h2 id="practiceTitle">Practice Problems ($\text{Genotype}$ $\text{Check}$)</h2>
<p>For the $\text{genotype}$ shown, what is the correct term to describe it?</p>
<div class="grid cols-4" style="margin-top:10px">
Â  <div class="tile" id="q1-tile">
Â  Â  <div style="font-weight:700">1) $\text{Genotype}$ $\text{Gg}$</div>
Â  Â  <div class="controls" style="margin-top:6px">
Â  Â  Â  <button onclick="checkVocab('q1', 'hetero', this)">Heterozygous</button>
Â  Â  Â  <button onclick="checkVocab('q1', 'homo', this)">Homozygous</button>
Â  Â  </div>
Â  Â  <div id="r1" class="answer"></div>
Â  </div>
Â  <div class="tile" id="q2-tile">
Â  Â  <div style="font-weight:700">2) $\text{Genotype}$ $\text{BB}$</div>
Â  Â  <div class="controls" style="margin-top:6px">
Â  Â  Â  <button onclick="checkVocab('q2', 'homo_rec', this)">Homozygous Recessive</button>
Â  Â  Â  <button onclick="checkVocab('q2', 'homo_dom', this)">Homozygous Dominant</button>
Â  Â  </div>
Â  Â  <div id="r2" class="answer"></div>
Â  </div>
Â  <div class="tile" id="q3-tile">
Â  Â  <div style="font-weight:700">3) $\text{Genotype}$ $\text{rr}$</div>
Â  Â  <div class="controls" style="margin-top:6px">
Â  Â  Â  <button onclick="checkVocab('q3', 'phenotype', this)">Phenotype</button>
Â  Â  Â  <button onclick="checkVocab('q3', 'homo_rec', this)">Homozygous Recessive</button>
Â  Â  </div>
Â  Â  <div id="r3" class="answer"></div>
Â  </div>
Â  <div class="tile" id="q4-tile">
Â  Â  <div style="font-weight:700">4) $\text{The}$ $\text{physical}$ $\text{trait}$ ($\text{e.g.,}$ $\text{Blue}$ $\text{Eyes}$)</div>
Â  Â  <div class="controls" style="margin-top:6px">
Â  Â  Â  <button onclick="checkVocab('q4', 'phenotype', this)">Phenotype</button>
Â  Â  Â  <button onclick="checkVocab('q4', 'genotype', this)">Genotype</button>
Â  Â  </div>
Â  Â  <div id="r4" class="answer"></div>
Â  </div>
</div>
</section>

<section aria-labelledby="resetTitle">
<h2 id="resetTitle">Reset Your Score</h2>
<p>If you want to play again, you can reset your score here.</p>
<button id="resetScoreBtn" class="warn" onclick="reset()">Reset Score</button>
</section>

<footer>Genetics is the language of life!</footer>
</main>
<script>
/* ===== Utilities ===== */
const tone = (f = 880, d = 0.06) => {
Â  try {
Â  Â  const A = new (window.AudioContext || window.webkitAudioContext)();
Â  Â  const o = A.createOscillator();
Â  Â  const g = A.createGain();
Â  Â  o.type = 'sine';
Â  Â  o.frequency.value = f;
Â  Â  g.gain.value = 0.0001;
Â  Â  o.connect(g);
Â  Â  g.connect(A.destination);
Â  Â  o.start();
Â  Â  g.gain.exponentialRampToValueAtTime(0.12, A.currentTime + 0.01);
Â  Â  g.gain.exponentialRampToValueAtTime(0.0001, A.currentTime + d);
Â  Â  setTimeout(() => { o.stop(); A.close().catch(() => {}); }, d * 1000 + 50);
Â  } catch (e) {}
};
let totalScore = 0, streak = 0;
function updateScore(points) {
Â  if (points > 0) {
Â  Â  totalScore += points;
Â  Â  streak++;
Â  } else {
Â  Â  streak = 0;
Â  }
Â  document.getElementById('score').textContent = `Score: ${totalScore}`;
Â  document.getElementById('streak').textContent = `Streak: ${streak}`;
}

window.checkVocab = (questionId, selectedAnswer, button) => {
Â  // Vocab Answers
Â  const correctAnswers = {
Â  Â  'q1': 'hetero', 
Â  Â  'q2': 'homo_dom', 
Â  Â  'q3': 'homo_rec', 
Â  Â  'q4': 'phenotype' 
Â  };
Â  const correctText = {
Â  Â  'hetero': 'Heterozygous (different alleles)', 
Â  Â  'homo_dom': 'Homozygous Dominant (two capital letters)', 
Â  Â  'homo_rec': 'Homozygous Recessive (two lowercase letters)', 
Â  Â  'phenotype': 'Phenotype (physical trait)' 
Â  };
Â  const resultId = 'r' + questionId.slice(1);
Â  const res = document.getElementById(resultId);
Â Â 
Â  const buttons = document.querySelectorAll(`#${questionId}-tile button`);
Â  buttons.forEach(btn => btn.disabled = true);

Â  if (selectedAnswer === correctAnswers[questionId]) {
Â  Â  res.textContent = 'âœ… Correct!';
Â  Â  res.className = 'answer ok';
Â  Â  tone(880, 0.06);
Â  Â  updateScore(1);
Â  } else {
Â  Â  res.textContent = `âŒ Wrong. The correct term is **${correctText[correctAnswers[questionId]]}**.`;
Â  Â  res.className = 'answer bad';
Â  Â  tone(220, 0.06);
Â  Â  updateScore(0);
Â  }
};


/* ===== Punnett Square Logic ===== */

function normalizeGenotype(g) {
Â  // Ensures the dominant allele (uppercase) is always listed first (e.g., tT becomes Tt)
Â  if (g.length === 2) {
Â  Â  if (g[0] === g[0].toLowerCase() && g[1] === g[1].toUpperCase()) {
Â  Â  Â  return g[1] + g[0];
Â  Â  }
Â  Â  return g;
Â  }
Â  return g;
}

function getGenotype(a1, a2) {
Â  let g = a1 + a2;
Â  if (g.length === 2) {
Â  Â  // Sorts alleles for consistent representation (e.g., Tt, not tT)
Â  Â  const sortedG = g.split('').sort((a, b) => {
Â  Â  Â  if (a === a.toUpperCase() && b === b.toLowerCase()) return -1;
Â  Â  Â  if (a === a.toLowerCase() && b === b.toUpperCase()) return 1;
Â  Â  Â  return 0;
Â  Â  }).join('');
Â  Â  return sortedG;
Â  }
Â  return g;
}

function drawPunnett() {
Â  const p1a1 = document.getElementById('p1a1').value.toUpperCase();
Â  const p1a2 = document.getElementById('p1a2').value.toUpperCase();
Â  const p2a1 = document.getElementById('p2a1').value.toUpperCase();
Â  const p2a2 = document.getElementById('p2a2').value.toUpperCase();

Â  if (!p1a1 || !p1a2 || !p2a1 || !p2a2) return;

Â  // Update Punnett Grid Headers
Â  document.getElementById('allele_p1a1').textContent = p1a1;
Â  document.getElementById('allele_p1a2').textContent = p1a2;
Â  document.getElementById('allele_p2a1').textContent = p2a1;
Â  document.getElementById('allele_p2a2').textContent = p2a2;

Â  // Calculate and update the four cells
Â  const results = {
Â  Â  r11: getGenotype(p1a1, p2a1),
Â  Â  r12: getGenotype(p1a2, p2a1),
Â  Â  r21: getGenotype(p1a1, p2a2),
Â  Â  r22: getGenotype(p1a2, p2a2)
Â  };
Â  
Â  let counts = {};
Â  let totalCount = 0;

Â  for (const id in results) {
Â  Â  const cell = document.getElementById(id);
Â  Â  const genotype = results[id];
Â  Â  cell.textContent = genotype;
Â  Â  cell.dataset.genotype = genotype;
Â  Â  cell.className = 'punnett-cell punnett-result'; // Reset class
Â  Â  
Â  Â  // Count for ratio calculation
Â  Â  counts[genotype] = (counts[genotype] || 0) + 1;
Â  Â  totalCount++;
Â  }
Â  
Â  // Calculate and display Ratios
Â  const sortedGenotypes = Object.keys(counts).sort();
Â  const genotypeRatioText = sortedGenotypes.map(g => `${counts[g]} ${g}`).join(' : ');
Â  document.getElementById('genotypeRatio').textContent = `Genotype Ratio: ${genotypeRatioText}`;

Â  // Phenotype (Assuming the first letter's uppercase is dominant)
Â  const dominantAllele = p1a1.toUpperCase();
Â  const recessiveAllele = p1a1.toLowerCase();
Â  let domCount = 0;
Â  let recCount = 0;

Â  for (const g in counts) {
Â  Â  // If the genotype contains the dominant allele (T_), it is the dominant phenotype (Tall)
Â  Â  if (g.includes(dominantAllele)) {
Â  Â  Â  domCount += counts[g];
Â  Â  } 
Â  Â  // If it is homozygous recessive (tt), it is the recessive phenotype (Short)
Â  Â  else if (g === recessiveAllele + recessiveAllele) {
Â  Â  Â  recCount += counts[g];
Â  Â  }
Â  }

Â  const phenotypeRatioText = `${domCount} Dominant : ${recCount} Recessive (${(domCount/totalCount)*100}% Dominant, ${(recCount/totalCount)*100}% Recessive)`;
Â  document.getElementById('phenotypeRatio').textContent = `Phenotype Ratio: ${phenotypeRatioText}`;
Â  document.getElementById('phenotypeRatio').style.color = (domCount > recCount) ? 'var(--dominant-color)' : 'var(--recessive-color)';
}

window.checkPunnett = (cell, expected) => {
Â  // Logic for the click-to-check feature
Â  if (cell.classList.contains('correct') || cell.classList.contains('incorrect')) return;
Â  
Â  const actual = cell.dataset.genotype;
Â  
Â  // Since the user can input any letter, we just check if the calculated genotype matches
Â  if (actual === expected || normalizeGenotype(actual) === normalizeGenotype(expected)) {
Â  Â  cell.classList.add('correct');
Â  Â  quizFeedback.textContent = `ğŸ‰ Correct! The genotype is ${actual}.`;
Â  Â  quizFeedback.className = 'answer ok';
Â  Â  tone(880, 0.06);
Â  Â  updateScore(5);
Â  } else {
Â  Â  cell.classList.add('incorrect');
Â  Â  quizFeedback.textContent = `âŒ Incorrect. The correct $\\text{genotype}$ is **${expected}**.`;
Â  Â  quizFeedback.className = 'answer bad';
Â  Â  tone(220, 0.06);
Â  Â  updateScore(0);
Â  }
};

// Initial Draw and Reset
drawPunnett();

window.reset = () => {
Â  totalScore = 0;
Â  streak = 0;
Â  document.getElementById('score').textContent = `Score: 0`;
Â  document.getElementById('streak').textContent = `Streak: 0`;
Â  
Â  // Reset practice problem tiles
Â  document.querySelectorAll(`.tile[id^='q']`).forEach(tile => {
Â  Â  tile.querySelectorAll('.controls button').forEach(btn => btn.disabled = false);
Â  Â  tile.querySelector('.answer').textContent = '';
Â  });

Â  // Reset Punnett cells
Â  document.querySelectorAll('.punnett-result').forEach(cell => {
Â  Â  cell.className = 'punnett-cell punnett-result';
Â  });
Â  
Â  // Redraw with default Tt x Tt
Â  document.getElementById('p1a1').value = 'T';
Â  document.getElementById('p1a2').value = 't';
Â  document.getElementById('p2a1').value = 'T';
Â  document.getElementById('p2a2').value = 't';
Â  drawPunnett();
};
</script>
</body>
</html>
