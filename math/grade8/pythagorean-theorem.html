<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Pythagorean Theorem</title>
<style>
:root{
Â  Â  --bg:#f7fbff; --panel:#fff; --accent:#9ca3af; --accent2:#4b5563; --ok:#16a34a; --bad:#ef4444; --muted:#566270;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter, "Segoe UI", Arial, sans-serif;background:var(--bg);color:#04263b;}
header{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;padding:22px 12px;text-align:center;border-radius:0 0 12px 12px}
header h1{margin:0;font-size:clamp(20px,3vw,30px)}
main{max-width:1100px;margin:20px auto;padding:14px}
section{background:var(--panel);border-radius:12px;padding:16px;margin:14px 0;box-shadow:0 8px 24px rgba(2,6,23,0.06)}
h2{color:var(--accent2);margin:0 0 10px 0}
p{margin:8px 0}
.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
button{background:var(--accent2);color:#fff;border:none;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:700}
button.secondary{background:#9ca3af;color:#fff}
button.ghost{background:#e5e7eb;color:var(--accent2);border:1px solid #d1d5db}
button.warn{background:#f97316}
input[type=number], input[type=text], select{padding:8px;border-radius:8px;border:1px solid #d1d5db;font-size:1rem;min-width:100px;}
.grid{display:grid;gap:10px}
.grid.cols-4{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
.tile{background:#fff;padding:12px;border-radius:8px;text-align:center;border:1px solid #d1d5db;font-weight:700}
.status{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.pill{background:#e6ffef;color:var(--ok);padding:6px 10px;border-radius:999px;font-weight:800}
.muted{color:var(--muted)}
footer{text-align:center;padding:12px;margin-top:8px;color:#334155}
.answer{font-weight:800;margin-top:8px}
.ok{color:var(--ok)}
.bad{color:var(--bad)}
canvas{background:#fff;border:1px solid #d1d5db;border-radius:8px;display:block;margin-top:10px;width:100%;}
</style>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<header>
<h1>Pythagorean Theorem ğŸ“</h1>
<p style="margin:6px 0 0 0;opacity:.95">Interactive Tutorial â€¢ Practice Problems â€¢ Speed Quiz</p>
</header>
<main>
<section aria-labelledby="introTitle">
<h2 id="introTitle">What is the Pythagorean Theorem? ğŸ§­</h2>
<p>
Â  The **Pythagorean Theorem** describes the relationship between the three sides of a **right-angled triangle**. It states that the square of the length of the hypotenuse (the side opposite the right angle) is equal to the sum of the squares of the lengths of the other two sides.
</p>
<p>
Â  The formula is:
</p>
<p>
Â  $$a^2 + b^2 = c^2$$
</p>
<p>
Â  Where **a** and **b** are the two shorter sides (the **legs**) and **c** is the longest side (the **hypotenuse**).
</p>
<div class="status" style="margin-top:8px">
Â  <div class="pill" id="score">Score: 0</div>
Â  <div class="muted" id="streak">Streak: 0</div>
</div>
</section>

<section aria-labelledby="videoTitle">
<h2 id="videoTitle">Video: Finding the Hypotenuse ğŸ¬</h2>
<p>This video will walk you through how to use the Pythagorean Theorem to find the length of a missing side.</p>
<div class="canvas-wrapper">
Â  <canvas id="tutorialCanvas" width="800" height="400"></canvas>
</div>
<div class="controls">
Â  <button id="playTutorial" class="secondary">â–¶ï¸ Play Video</button>
</div>
<div class="settings">
Â  <label>Speed: <input type="number" id="videoSpeed" value="1" min="0.5" max="2" step="0.1"></label>
</div>
</section>

<section aria-labelledby="practiceTitle">
<h2 id="practiceTitle">Practice Problems</h2>
<p>Find the length of the missing side. Round to two decimal places if needed.</p>
<div class="grid cols-4" style="margin-top:10px">
Â  <div class="tile" id="q1.tile">
Â  Â  <div style="font-weight:700">1) $$a=3, b=4$$<br>Find c.</div>
Â  Â  <p>c = <input id="q1_ans" type="number" step="0.01" placeholder="?"></p>
Â  Â  <div style="margin-top:6px"><button onclick="check('q1', '5')">Check</button></div>
Â  Â  <div id="r1" class="answer"></div>
Â  </div>
Â  <div class="tile" id="q2.tile">
Â  Â  <div style="font-weight:700">2) $$a=5, c=13$$<br>Find b.</div>
Â  Â  <p>b = <input id="q2_ans" type="number" step="0.01" placeholder="?"></p>
Â  Â  <div style="margin-top:6px"><button onclick="check('q2', '12')">Check</button></div>
Â  Â  <div id="r2" class="answer"></div>
Â  </div>
Â  <div class="tile" id="q3.tile">
Â  Â  <div style="font-weight:700">3) $$a=6, b=8$$<br>Find c.</div>
Â  Â  <p>c = <input id="q3_ans" type="number" step="0.01" placeholder="?"></p>
Â  Â  <div style="margin-top:6px"><button onclick="check('q3', '10')">Check</button></div>
Â  Â  <div id="r3" class="answer"></div>
Â  </div>
Â  <div class="tile" id="q4.tile">
Â  Â  <div style="font-weight:700">4) $$b=7, c=10$$<br>Find a.</div>
Â  Â  <p>a = <input id="q4_ans" type="number" step="0.01" placeholder="?"></p>
Â  Â  <div style="margin-top:6px"><button onclick="check('q4', '7.14')">Check</button></div>
Â  Â  <div id="r4" class="answer"></div>
Â  </div>
</div>
</section>

<section aria-labelledby="speedTitle">
<h2 id="speedTitle">âš¡ Theorem Speed Quiz</h2>
<div class="controls">
Â  <label>Duration:
Â  Â  <select id="quizDuration">
Â  Â  Â  <option value="30">30s</option>
Â  Â  Â  <option value="60" selected>60s</option>
Â  Â  Â  <option value="90">90s</option>
Â  Â  </select>
Â  </label>
Â  <button id="startQuiz" class="warn">Start Quiz</button>
Â  <button id="stopQuiz" class="ghost">Stop</button>
Â  <div class="muted" id="quizTimer">Time: 0</div>
Â  <div id="quizScore" class="pill">Correct: 0</div>
</div>
<div style="margin-top:12px">
Â  <div style="font-size:1.6rem;font-weight:800" id="quizQ">Press Start</div>
Â  <div style="margin-top:8px" class="controls">
Â  Â  <input id="quizInput_ans" type="number" step="0.01" placeholder="Answer = ?">
Â  Â  <button id="quizCheck" class="secondary">Submit</button>
Â  Â  <div id="quizFeedback" class="answer"></div>
Â  </div>
</div>
</section>

<section aria-labelledby="csvTitle">
<h2 id="csvTitle">Download CSV Log</h2>
<p>Track all practice & quiz answers in a CSV file.</p>
<button id="downloadCSVBtn" class="secondary">â¬‡ï¸ Download CSV</button>
</section>

<footer>You've got this! Practice makes perfect.</footer>
</main>
<script>
/* ===== Utilities ===== */
const tone = (f = 880, d = 0.06) => {
Â  Â  try {
Â  Â  Â  Â  const A = new (window.AudioContext || window.webkitAudioContext)();
Â  Â  Â  Â  const o = A.createOscillator();
Â  Â  Â  Â  const g = A.createGain();
Â  Â  Â  Â  o.type = 'sine';
Â  Â  Â  Â  o.frequency.value = f;
Â  Â  Â  Â  g.gain.value = 0.0001;
Â  Â  Â  Â  o.connect(g);
Â  Â  Â  Â  g.connect(A.destination);
Â  Â  Â  Â  o.start();
Â  Â  Â  Â  g.gain.exponentialRampToValueAtTime(0.12, A.currentTime + 0.01);
Â  Â  Â  Â  g.gain.exponentialRampToValueAtTime(0.0001, A.currentTime + d);
Â  Â  Â  Â  setTimeout(() => { o.stop(); A.close().catch(() => {}); }, d * 1000 + 50);
Â  Â  } catch (e) {}
};
let totalScore = 0, streak = 0, csvData = [['Question', 'User Answer', 'Correct Answer']];
window.check = (qId, correct) => {
Â  Â  const input = document.getElementById(qId + '_ans');
Â  Â  const val = parseFloat(input.value);
Â  Â  const correctVal = parseFloat(correct);
Â  Â  const res = document.getElementById('r' + qId.slice(1));
Â  Â  const isCorrect = Math.abs(val - correctVal) < 0.02; // Allow for slight rounding errors
Â  Â  const questionText = document.querySelector(`#${qId}\\.tile div`).textContent;
Â  Â  if (isCorrect) {
Â  Â  Â  Â  res.textContent = 'âœ… Correct!';
Â  Â  Â  Â  res.className = 'answer ok';
Â  Â  Â  Â  tone(880, 0.06);
Â  Â  Â  Â  updateScore(1);
Â  Â  } else {
Â  Â  Â  Â  res.textContent = `âŒ Wrong (Answer: ${correctVal})`;
Â  Â  Â  Â  res.className = 'answer bad';
Â  Â  Â  Â  tone(220, 0.06);
Â  Â  Â  Â  updateScore(0);
Â  Â  }
Â  Â  csvData.push([questionText, `Answer=${val}`, `Answer=${correctVal}`]);
};
function updateScore(points) {
Â  Â  if (points > 0) {
Â  Â  Â  Â  totalScore += points;
Â  Â  Â  Â  streak++;
Â  Â  } else {
Â  Â  Â  Â  streak = 0;
Â  Â  }
Â  Â  document.getElementById('score').textContent = `Score: ${totalScore}`;
Â  Â  document.getElementById('streak').textContent = `Streak: ${streak}`;
}
/* ===== Canvas Tutorial ===== */
const tutorialCanvas = document.getElementById('tutorialCanvas');
const ctx = tutorialCanvas.getContext('2d');
const tutorialSpeedInput = document.getElementById('videoSpeed');
const voice = window.speechSynthesis.getVoices().find(v => v.name.includes('female') || v.name.includes('F'));
const tutorialSteps = [
Â  Â  { 
Â  Â  Â  Â  audio: "The Pythagorean Theorem applies only to right-angled triangles. It states that a squared plus b squared equals c squared.", 
Â  Â  Â  Â  text: "Formula: $$a^2 + b^2 = c^2$$",
Â  Â  Â  Â  draw: (ctx) => {
Â  Â  Â  Â  Â  Â  ctx.clearRect(0, 0, tutorialCanvas.width, tutorialCanvas.height);
Â  Â  Â  Â  Â  Â  drawTriangle(ctx, 150, 150, 150, 200, "a", "b", "c");
Â  Â  Â  Â  }
Â  Â  },
Â  Â  {
Â  Â  Â  Â  audio: "Let's find the hypotenuse, c, of a triangle with legs a equals 3 and b equals 4.",
Â  Â  Â  Â  text: "Given: a=3, b=4. Find c.",
Â  Â  Â  Â  draw: (ctx) => {
Â  Â  Â  Â  Â  Â  ctx.clearRect(0, 0, tutorialCanvas.width, tutorialCanvas.height);
Â  Â  Â  Â  Â  Â  drawTriangle(ctx, 150, 150, 150, 200, "3", "4", "c");
Â  Â  Â  Â  }
Â  Â  },
Â  Â  {
Â  Â  Â  Â  audio: "Step 1: Plug the values of a and b into the formula. This gives us 3 squared plus 4 squared equals c squared.",
Â  Â  Â  Â  text: "$$3^2 + 4^2 = c^2$$",
Â  Â  Â  Â  draw: (ctx) => {
Â  Â  Â  Â  Â  Â  ctx.clearRect(0, 0, tutorialCanvas.width, tutorialCanvas.height);
Â  Â  Â  Â  Â  Â  drawTriangle(ctx, 150, 150, 150, 200, "3", "4", "c");
Â  Â  Â  Â  }
Â  Â  },
Â  Â  {
Â  Â  Â  Â  audio: "Step 2: Square the numbers. 3 squared is 9, and 4 squared is 16. So we have 9 plus 16 equals c squared.",
Â  Â  Â  Â  text: "$$9 + 16 = c^2$$",
Â  Â  Â  Â  draw: (ctx) => {
Â  Â  Â  Â  Â  Â  ctx.clearRect(0, 0, tutorialCanvas.width, tutorialCanvas.height);
Â  Â  Â  Â  Â  Â  drawTriangle(ctx, 150, 150, 150, 200, "3", "4", "c");
Â  Â  Â  Â  }
Â  Â  },
Â  Â  {
Â  Â  Â  Â  audio: "Step 3: Add the two numbers together. 9 plus 16 is 25. So, 25 equals c squared.",
Â  Â  Â  Â  text: "$$25 = c^2$$",
Â  Â  Â  Â  draw: (ctx) => {
Â  Â  Â  Â  Â  Â  ctx.clearRect(0, 0, tutorialCanvas.width, tutorialCanvas.height);
Â  Â  Â  Â  Â  Â  drawTriangle(ctx, 150, 150, 150, 200, "3", "4", "c");
Â  Â  Â  Â  }
Â  Â  },
Â  Â  {
Â  Â  Â  Â  audio: "Step 4: Take the square root of both sides to find c. The square root of 25 is 5. So, c equals 5.",
Â  Â  Â  Â  text: "$$c = \sqrt{25} = 5$$",
Â  Â  Â  Â  draw: (ctx) => {
Â  Â  Â  Â  Â  Â  ctx.clearRect(0, 0, tutorialCanvas.width, tutorialCanvas.height);
Â  Â  Â  Â  Â  Â  drawTriangle(ctx, 150, 150, 150, 200, "3", "4", "5");
Â  Â  Â  Â  }
Â  Â  }
];

function drawTriangle(ctx, sideA, sideB, h, w, textA, textB, textC) {
Â  Â  const startX = (tutorialCanvas.width - w) / 2;
Â  Â  const startY = (tutorialCanvas.height - h) / 2;
Â  Â  ctx.strokeStyle = '#4b5563';
Â  Â  ctx.lineWidth = 3;
Â  Â  ctx.beginPath();
Â  Â  ctx.moveTo(startX, startY + h);
Â  Â  ctx.lineTo(startX + w, startY + h);
Â  Â  ctx.lineTo(startX + w, startY);
Â  Â  ctx.closePath();
Â  Â  ctx.stroke();
Â  Â  ctx.fillStyle = '#4b5563';
Â  Â  ctx.font = '20px Inter, sans-serif';
Â  Â  ctx.textAlign = 'center';
Â  Â  ctx.fillText(textA, startX + w / 2, startY + h + 20);
Â  Â  ctx.fillText(textB, startX + w + 20, startY + h / 2);
Â  Â  ctx.fillText(textC, startX + w / 2 + 10, startY + h / 2 - 20);
}

let tutorialIndex = 0;
async function playTutorialVideo(callback) {
Â  Â  if (speechSynthesis.speaking) return;
Â  Â  tutorialIndex = 0;
Â  Â  const speed = parseFloat(tutorialSpeedInput.value) || 1;
Â  Â  function nextStep() {
Â  Â  Â  Â  if (tutorialIndex >= tutorialSteps.length) {
Â  Â  Â  Â  Â  Â  if (callback) callback();
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }
Â  Â  Â  Â  const step = tutorialSteps[tutorialIndex];
Â  Â  Â  Â  const utterance = new SpeechSynthesisUtterance(step.audio);
Â  Â  Â  Â  utterance.rate = speed;
Â  Â  Â  Â  utterance.pitch = 1.2;
Â  Â  Â  Â  utterance.volume = 1;
Â  Â  Â  Â  if (voice) utterance.voice = voice;
Â  Â  Â  Â  utterance.onend = () => {
Â  Â  Â  Â  Â  Â  tutorialIndex++;
Â  Â  Â  Â  Â  Â  nextStep();
Â  Â  Â  Â  };
Â  Â  Â  Â  utterance.onerror = () => {
Â  Â  Â  Â  Â  Â  tutorialIndex++;
Â  Â  Â  Â  Â  Â  nextStep();
Â  Â  Â  Â  };
Â  Â  Â  Â  step.draw(ctx);
Â  Â  Â  Â  ctx.textAlign = 'center';
Â  Â  Â  Â  ctx.font = '24px Inter, sans-serif';
Â  Â  Â  Â  ctx.fillStyle = '#04263b';
Â  Â  Â  Â  ctx.fillText(step.text, tutorialCanvas.width / 2, 40);
Â  Â  Â  Â  MathJax.typeset([document.getElementById('tutorialCanvas').parentNode.parentNode]);
Â  Â  Â  Â  speechSynthesis.speak(utterance);
Â  Â  }
Â  Â  nextStep();
}

document.getElementById('playTutorial').addEventListener('click', () => playTutorialVideo());
ctx.font = '24px Inter, sans-serif';
ctx.textAlign = 'center';
ctx.fillText("Press Play to start the video!", tutorialCanvas.width / 2, tutorialCanvas.height / 2);
/* ===== Speed Quiz ===== */
function generateProblem() {
Â  Â  const isHypotenuse = Math.random() > 0.5;
Â  Â  if (isHypotenuse) {
Â  Â  Â  Â  const a = Math.floor(Math.random() * 5) + 3;
Â  Â  Â  Â  const b = Math.floor(Math.random() * 5) + 3;
Â  Â  Â  Â  const c = Math.sqrt(a*a + b*b);
Â  Â  Â  Â  return { q: `a=${a}, b=${b}<br>Find c.`, a: c.toFixed(2) };
Â  Â  } else {
Â  Â  Â  Â  const a = Math.floor(Math.random() * 5) + 3;
Â  Â  Â  Â  const c = Math.floor(Math.random() * 5) + a + 1;
Â  Â  Â  Â  const b = Math.sqrt(c*c - a*a);
Â  Â  Â  Â  return { q: `a=${a}, c=${c}<br>Find b.`, a: b.toFixed(2) };
Â  Â  }
}
let quizTimerInt = null, quizTime = 0, quizScore = 0, currentQuiz = null;
function newQuizQuestion() {
Â  Â  const problem = generateProblem();
Â  Â  currentQuiz = problem;
Â  Â  const qEl = document.getElementById('quizQ');
Â  Â  qEl.innerHTML = currentQuiz.q;
Â  Â  MathJax.typeset([qEl]);
Â  Â  document.getElementById('quizInput_ans').value = '';
Â  Â  document.getElementById('quizFeedback').textContent = '';
}
document.getElementById('startQuiz').addEventListener('click', () => {
Â  Â  quizTime = parseInt(document.getElementById('quizDuration').value, 10);
Â  Â  quizScore = 0;
Â  Â  document.getElementById('quizScore').textContent = `Correct: ${quizScore}`;
Â  Â  newQuizQuestion();
Â  Â  clearInterval(quizTimerInt);
Â  Â  quizTimerInt = setInterval(() => {
Â  Â  Â  Â  quizTime--;
Â  Â  Â  Â  document.getElementById('quizTimer').textContent = `Time: ${quizTime}s`;
Â  Â  Â  Â  if (quizTime <= 0) {
Â  Â  Â  Â  Â  Â  clearInterval(quizTimerInt);
Â  Â  Â  Â  Â  Â  document.getElementById('quizQ').textContent = 'Time Up!';
Â  Â  Â  Â  }
Â  Â  }, 1000);
});
document.getElementById('stopQuiz').addEventListener('click', () => {
Â  Â  clearInterval(quizTimerInt);
});
document.getElementById('quizCheck').addEventListener('click', () => {
Â  Â  const val = parseFloat(document.getElementById('quizInput_ans').value);
Â  Â  const f = document.getElementById('quizFeedback');
Â  Â  let userAnswer = `Answer=${val}`;
Â  Â  let correctAnswer = `Answer=${currentQuiz.a}`;
Â  Â  if (Math.abs(val - parseFloat(currentQuiz.a)) < 0.02) {
Â  Â  Â  Â  f.textContent = 'âœ… Correct!';
Â  Â  Â  Â  f.className = 'answer ok';
Â  Â  Â  Â  quizScore++;
Â  Â  Â  Â  document.getElementById('quizScore').textContent = `Correct: ${quizScore}`;
Â  Â  Â  Â  tone(880, 0.06);
Â  Â  } else {
Â  Â  Â  Â  f.textContent = `âŒ Wrong (Answer: ${currentQuiz.a})`;
Â  Â  Â  Â  f.className = 'answer bad';
Â  Â  Â  Â  tone(220, 0.06);
Â  Â  }
Â  Â  csvData.push([currentQuiz.q.replace(/\\/g, ''), userAnswer, correctAnswer]);
Â  Â  if (quizTime > 0) newQuizQuestion();
});
/* ===== CSV Download ===== */
document.getElementById('downloadCSVBtn').addEventListener('click', () => {
Â  Â  const csvContent = "data:text/csv;charset=utf-8," + csvData.map(e => e.join(",")).join("\n");
Â  Â  const encodedUri = encodeURI(csvContent);
Â  Â  const link = document.createElement("a");
Â  Â  link.setAttribute("href", encodedUri);
Â  Â  link.setAttribute("download", "pythagorean_theorem_log.csv");
Â  Â  document.body.appendChild(link);
Â  Â  link.click();
Â  Â  document.body.removeChild(link);
});
</script>
</body>
</html>
